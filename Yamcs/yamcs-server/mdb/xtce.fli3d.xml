<?xml version="1.0" encoding="UTF-8"?>
<SpaceSystem name="fli3d" 
    xmlns="http://www.omg.org/space/xtce" 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.omg.org/space/xtce https://www.omg.org/spec/XTCE/20180204/SpaceSystem.xsd">
    <TelemetryMetaData>
        <ParameterTypeSet>
              
            <AggregateParameterType name="CCSDS_PacketID_t">
                <MemberList>
                    <Member name="Version" typeRef="CCSDS_Version_t" />
                    <Member name="Type" typeRef="CCSDS_Type_t" />
                    <Member name="SecHdrFlag" typeRef="CCSDS_SecHdrFlag_t" />
                    <Member name="APID" typeRef="CCSDS_APID_t" />
                </MemberList>
            </AggregateParameterType>
            <AggregateParameterType name="CCSDS_PacketSequence_t">
                <MemberList>
                    <Member name="GroupFlags" typeRef="CCSDS_GroupFlags_t" />
                    <Member name="Count" typeRef="CCSDS_SourceSequenceCount_t" />
                </MemberList>
            </AggregateParameterType>            
            <IntegerParameterType name="CCSDS_Version_t" signed="false" initialValue="0">
                <UnitSet/>
                <IntegerDataEncoding sizeInBits="3" />
            </IntegerParameterType>
            <BooleanParameterType name="CCSDS_Type_t" zeroStringValue="TM" oneStringValue="TC">
                <UnitSet/>
                <IntegerDataEncoding sizeInBits="1" />
            </BooleanParameterType>
            <BooleanParameterType name="CCSDS_SecHdrFlag_t" zeroStringValue="NotPresent" oneStringValue="Present">
                <UnitSet/>
                <IntegerDataEncoding sizeInBits="1" />
            </BooleanParameterType>
            <IntegerParameterType name="CCSDS_APID_t" signed="false">
                <UnitSet/>
                <IntegerDataEncoding sizeInBits="11" />
            </IntegerParameterType>
            <EnumeratedParameterType name="CCSDS_GroupFlags_t" initialValue="Standalone">
                <UnitSet/>
                <IntegerDataEncoding sizeInBits="2" />
                <EnumerationList>
                    <Enumeration value="0" label="Continuation" />
                    <Enumeration value="1" label="First" />
                    <Enumeration value="2" label="Last" />
                    <Enumeration value="3" label="Standalone" />
                </EnumerationList>
            </EnumeratedParameterType>
            <IntegerParameterType name="CCSDS_SourceSequenceCount_t" signed="false">
                <UnitSet/>
                <IntegerDataEncoding sizeInBits="14" />
            </IntegerParameterType>
            <IntegerParameterType name="CCSDS_PacketLength_t" signed="false">
                <UnitSet>
                    <Unit description="Size">Octets</Unit>
                </UnitSet>
                <IntegerDataEncoding sizeInBits="16" />
            </IntegerParameterType>
            
            <StringParameterType name="string_t">
                <UnitSet />
                <StringDataEncoding encoding="UTF-8">
                    <SizeInBits>
                         <TerminationChar>00</TerminationChar>
                    </SizeInBits>
                </StringDataEncoding>
            </StringParameterType>            
            <FloatParameterType name="float_t">
                <UnitSet />
                <FloatDataEncoding sizeInBits="32" byteOrder="leastSignificantByteFirst" />
            </FloatParameterType>
            <FloatParameterType name="float_pressure_t">
                <UnitSet>
                    <Unit description="Unit">mbar</Unit>
                </UnitSet>
                <FloatDataEncoding sizeInBits="32" byteOrder="leastSignificantByteFirst" />
            </FloatParameterType>
            <FloatParameterType name="float_distance_t">
                <UnitSet>
                    <Unit description="Unit">m</Unit>
                </UnitSet>
                <FloatDataEncoding sizeInBits="32" byteOrder="leastSignificantByteFirst" />
            </FloatParameterType>
            <FloatParameterType name="float_velocity_t">
                <UnitSet>
                    <Unit description="Unit">m/s</Unit>
                </UnitSet>
                <FloatDataEncoding sizeInBits="32" byteOrder="leastSignificantByteFirst" />
            </FloatParameterType>
            <FloatParameterType name="float_temperature_t">
                <UnitSet>
                    <Unit description="Unit">°C</Unit>
                </UnitSet>
                <FloatDataEncoding sizeInBits="32" byteOrder="leastSignificantByteFirst" />
            </FloatParameterType>
            <FloatParameterType name="float_accel_t">
                <UnitSet>
                    <Unit description="Unit">m/s²</Unit>
                </UnitSet>
                <FloatDataEncoding sizeInBits="32" byteOrder="leastSignificantByteFirst" />
            </FloatParameterType>
            <FloatParameterType name="float_rotation_t">
                <UnitSet>
                    <Unit description="Unit">°/s</Unit>
                </UnitSet>
                <FloatDataEncoding sizeInBits="32" byteOrder="leastSignificantByteFirst" />
            </FloatParameterType>
            <FloatParameterType name="float_angle_t">
                <UnitSet>
                    <Unit description="Unit">°</Unit>
                </UnitSet>
                <FloatDataEncoding sizeInBits="32" byteOrder="leastSignificantByteFirst" />
            </FloatParameterType>
            <IntegerParameterType name="int32_t" signed="true">
                <UnitSet/>
                <IntegerDataEncoding encoding="twosComplement" sizeInBits="32" byteOrder="leastSignificantByteFirst" />
            </IntegerParameterType>
            <FloatParameterType name="int32_m_from_cm_t" signed="true">
                <UnitSet>
                    <Unit description="Unit">m</Unit>
                </UnitSet>
                <IntegerDataEncoding encoding="twosComplement" sizeInBits="32" byteOrder="leastSignificantByteFirst">
                    <DefaultCalibrator>
                        <PolynomialCalibrator>
                            <Term exponent="1" coefficient="0.01" />
                        </PolynomialCalibrator>
                    </DefaultCalibrator>
                </IntegerDataEncoding>
            </FloatParameterType>
            <FloatParameterType name="int32_mps_from_cmps_t" signed="true">
                <UnitSet>
                    <Unit description="Unit">m/s</Unit>
                </UnitSet>
                <IntegerDataEncoding encoding="twosComplement" sizeInBits="32" byteOrder="leastSignificantByteFirst">
                    <DefaultCalibrator>
                        <PolynomialCalibrator>
                            <Term exponent="1" coefficient="0.01" />
                        </PolynomialCalibrator>
                    </DefaultCalibrator>
                </IntegerDataEncoding>
            </FloatParameterType>
            <FloatParameterType name="int32_1E7deg_t" signed="true">
                <UnitSet>
                    <Unit description="Unit">°</Unit>
                </UnitSet>
                <IntegerDataEncoding encoding="twosComplement" sizeInBits="32" byteOrder="leastSignificantByteFirst">
                    <DefaultCalibrator>
                        <PolynomialCalibrator>
                            <Term exponent="1" coefficient="0.0000001" />
                        </PolynomialCalibrator>
                    </DefaultCalibrator>
                </IntegerDataEncoding>
            </FloatParameterType>
            <IntegerParameterType name="uint32_t" signed="false">
                <UnitSet/>
                <IntegerDataEncoding encoding="unsigned" sizeInBits="32" byteOrder="leastSignificantByteFirst" />
            </IntegerParameterType>
            <FloatParameterType name="uint32_hPa_from_Pa_t" signed="false">
                <UnitSet>
                    <Unit description="Unit">hPa</Unit>
                </UnitSet>
                <IntegerDataEncoding encoding="unsigned" sizeInBits="32" byteOrder="leastSignificantByteFirst">
                    <DefaultCalibrator>
                        <PolynomialCalibrator>
                            <Term exponent="1" coefficient="0.01" />
                        </PolynomialCalibrator>
                    </DefaultCalibrator>
                </IntegerDataEncoding>
            </FloatParameterType>
            <IntegerParameterType name="uint24_t" signed="false">
                <UnitSet/>
                <IntegerDataEncoding encoding="unsigned" sizeInBits="24" byteOrder="leastSignificantByteFirst" />
            </IntegerParameterType>
            <IntegerParameterType name="int16_t" signed="true">
                <UnitSet/>
                <IntegerDataEncoding encoding="twosCompliment" sizeInBits="16" byteOrder="leastSignificantByteFirst" />
            </IntegerParameterType>
            <IntegerParameterType name="int16_distance_t" signed="true">
                <UnitSet>
                    <Unit description="Unit">m</Unit>
                </UnitSet>
                <IntegerDataEncoding encoding="twosCompliment" sizeInBits="16" byteOrder="leastSignificantByteFirst" />
            </IntegerParameterType>
            <FloatParameterType name="int16_cmps2_from_mps2_t" signed="true">
                <UnitSet>
                    <Unit description="Unit">m/s²</Unit>
                </UnitSet>
                <IntegerDataEncoding encoding="twosComplement" sizeInBits="16" byteOrder="leastSignificantByteFirst">
                    <DefaultCalibrator>
                        <PolynomialCalibrator>
                            <Term exponent="1" coefficient="0.01" />
                        </PolynomialCalibrator>
                    </DefaultCalibrator>
                </IntegerDataEncoding>
            </FloatParameterType>
            <FloatParameterType name="int16_G_from_mG_t" signed="true">
                <UnitSet>
                    <Unit description="Unit">G</Unit>
                </UnitSet>
                <IntegerDataEncoding encoding="twosComplement" sizeInBits="16" byteOrder="leastSignificantByteFirst">
                    <DefaultCalibrator>
                        <PolynomialCalibrator>
                            <Term exponent="1" coefficient="0.001" />
                        </PolynomialCalibrator>
                    </DefaultCalibrator>
                </IntegerDataEncoding>
            </FloatParameterType>
            <FloatParameterType name="int16_rpm_from_crpm_t" signed="true">
                <UnitSet>
                    <Unit description="Unit">rpm</Unit>
                </UnitSet>
                <IntegerDataEncoding encoding="twosComplement" sizeInBits="16" byteOrder="leastSignificantByteFirst">
                    <DefaultCalibrator>
                        <PolynomialCalibrator>
                            <Term exponent="1" coefficient="0.01" />
                        </PolynomialCalibrator>
                    </DefaultCalibrator>
                </IntegerDataEncoding>
            </FloatParameterType>
            <FloatParameterType name="int16_deg_from_cdeg_t" signed="true">
                <UnitSet>
                    <Unit description="Unit">°</Unit>
                </UnitSet>
                <IntegerDataEncoding encoding="twosComplement" sizeInBits="16" byteOrder="leastSignificantByteFirst">
                    <DefaultCalibrator>
                        <PolynomialCalibrator>
                            <Term exponent="1" coefficient="0.01" />
                        </PolynomialCalibrator>
                    </DefaultCalibrator>
                </IntegerDataEncoding>
            </FloatParameterType>
            <FloatParameterType name="int16_degps_from_cdegps_t" signed="true">
                <UnitSet>
                    <Unit description="Unit">°/s</Unit>
                </UnitSet>
                <IntegerDataEncoding encoding="twosComplement" sizeInBits="16" byteOrder="leastSignificantByteFirst">
                    <DefaultCalibrator>
                        <PolynomialCalibrator>
                            <Term exponent="1" coefficient="0.01" />
                        </PolynomialCalibrator>
                    </DefaultCalibrator>
                </IntegerDataEncoding>
            </FloatParameterType>
            <FloatParameterType name="int16_degC_from_cdegC_t" signed="true">
                <UnitSet>
                    <Unit description="Unit">°C</Unit>
                </UnitSet>
                <IntegerDataEncoding encoding="twosComplement" sizeInBits="16" byteOrder="leastSignificantByteFirst">
                    <DefaultCalibrator>
                        <PolynomialCalibrator>
                            <Term exponent="1" coefficient="0.01" />
                        </PolynomialCalibrator>
                    </DefaultCalibrator>
                </IntegerDataEncoding>
            </FloatParameterType>
            <FloatParameterType name="int16_m_from_cm_t" signed="true">
                <UnitSet>
                    <Unit description="Unit">m</Unit>
                </UnitSet>
                <IntegerDataEncoding encoding="twosComplement" sizeInBits="16" byteOrder="leastSignificantByteFirst">
                    <DefaultCalibrator>
                        <PolynomialCalibrator>
                            <Term exponent="1" coefficient="0.01" />
                        </PolynomialCalibrator>
                    </DefaultCalibrator>
                </IntegerDataEncoding>
            </FloatParameterType>
            <FloatParameterType name="int16_mps_from_cmps_t" signed="true">
                <UnitSet>
                    <Unit description="Unit">m/s</Unit>
                </UnitSet>
                <IntegerDataEncoding encoding="twosComplement" sizeInBits="16" byteOrder="leastSignificantByteFirst">
                    <DefaultCalibrator>
                        <PolynomialCalibrator>
                            <Term exponent="1" coefficient="0.01" />
                        </PolynomialCalibrator>
                    </DefaultCalibrator>
                </IntegerDataEncoding>
            </FloatParameterType>
            <IntegerParameterType name="uint16_t" signed="false">
                <UnitSet/>
                <IntegerDataEncoding encoding="unsigned" sizeInBits="16" byteOrder="leastSignificantByteFirst" />
            </IntegerParameterType>
            <FloatParameterType name="uint16_milli_t" signed="false">
                <UnitSet/>
                <IntegerDataEncoding encoding="unsigned" sizeInBits="16" byteOrder="leastSignificantByteFirst">
                <DefaultCalibrator>
                        <PolynomialCalibrator>
                            <Term exponent="1" coefficient="0.001" />
                        </PolynomialCalibrator>
                    </DefaultCalibrator>
                </IntegerDataEncoding>
            </FloatParameterType>
            <IntegerParameterType name="uint16_kB_t" signed="false">
                <UnitSet>
                    <Unit description="Unit">kB</Unit>
                </UnitSet>
                <IntegerDataEncoding encoding="unsigned" sizeInBits="16" byteOrder="leastSignificantByteFirst" />
            </IntegerParameterType>
            <IntegerParameterType name="uint16_MB_t" signed="false">
                <UnitSet>
                    <Unit description="Unit">MB</Unit>
                </UnitSet>
                <IntegerDataEncoding encoding="unsigned" sizeInBits="16" byteOrder="leastSignificantByteFirst" />
            </IntegerParameterType>
            <IntegerParameterType name="uint16_duration_t" signed="false">
                <UnitSet>
                    <Unit description="Unit">ms</Unit>
                </UnitSet>
                <IntegerDataEncoding encoding="unsigned" sizeInBits="16" byteOrder="leastSignificantByteFirst" />
            </IntegerParameterType>
            <IntegerParameterType name="int8_t" signed="true">
                <UnitSet/>
                <IntegerDataEncoding encoding="twosCompliment" sizeInBits="8" />
            </IntegerParameterType>
            <IntegerParameterType name="int8_temperature_t" signed="true">
                <UnitSet>
                    <Unit description="Unit">°C</Unit>
                </UnitSet>
                <IntegerDataEncoding encoding="twosCompliment" sizeInBits="8" />
            </IntegerParameterType>
            <IntegerParameterType name="int8_velocity_t" signed="true">
                <UnitSet>
                    <Unit description="Unit">m/s</Unit>
                </UnitSet>
                <IntegerDataEncoding encoding="twosCompliment" sizeInBits="8" />
            </IntegerParameterType>                           
            <IntegerParameterType name="int8_accel_t" signed="true">
                <UnitSet>
                    <Unit description="Unit">m/s²</Unit>
                </UnitSet>
                <IntegerDataEncoding encoding="twosCompliment" sizeInBits="8" />
            </IntegerParameterType>            
            <IntegerParameterType name="int8_rpm_t" signed="true">
                <UnitSet>
                    <Unit description="Unit">rpm</Unit>
                </UnitSet>
                <IntegerDataEncoding encoding="twosCompliment" sizeInBits="8" />
            </IntegerParameterType>            
            <IntegerParameterType name="uint8_t" signed="false">
                <UnitSet/>
                <IntegerDataEncoding encoding="unsigned" sizeInBits="8" />
            </IntegerParameterType>
            <IntegerParameterType name="uint8_rate_t" signed="false">
                <UnitSet>
                    <Unit description="Frequency">Hz</Unit>
                </UnitSet>
                <IntegerDataEncoding sizeInBits="8" />
            </IntegerParameterType>
            <IntegerParameterType name="uint8_distance_t" signed="false">
                <UnitSet>
                    <Unit description="Unit">m</Unit>
                </UnitSet>
                <IntegerDataEncoding sizeInBits="8" />
            </IntegerParameterType>
            <IntegerParameterType name="uint8_velocity_t" signed="false">
                <UnitSet>
                    <Unit description="Unit">m/s</Unit>
                </UnitSet>
                <IntegerDataEncoding sizeInBits="8" />
            </IntegerParameterType>
            <IntegerParameterType name="uint8_accel_t" signed="false">
                <UnitSet>
                    <Unit description="Unit">m/s²</Unit>
                </UnitSet>
                <IntegerDataEncoding sizeInBits="8" />
            </IntegerParameterType>
            <FloatParameterType name="uint8_G_t" signed="false">
                <UnitSet>
                    <Unit description="Unit">G</Unit>
                </UnitSet>
                <IntegerDataEncoding encoding="unsigned" sizeInBits="8" byteOrder="leastSignificantByteFirst">
                    <DefaultCalibrator>
                        <PolynomialCalibrator>
                            <Term exponent="1" coefficient="0.1" />
                        </PolynomialCalibrator>
                    </DefaultCalibrator>
                </IntegerDataEncoding>
            </FloatParameterType>
            <IntegerParameterType name="uint8_angle_t" signed="false">
                <UnitSet>
                    <Unit description="Unit">°</Unit>
                </UnitSet>
                <IntegerDataEncoding sizeInBits="8" />
            </IntegerParameterType>
            <IntegerParameterType name="uint8_rotation_t" signed="false">
                <UnitSet>
                    <Unit description="Unit">°/s</Unit>
                </UnitSet>
                <IntegerDataEncoding sizeInBits="8" />
            </IntegerParameterType>
            <IntegerParameterType name="uint8_duration_t" signed="false">
                <UnitSet>
                    <Unit description="Unit">ms</Unit>
                </UnitSet>
                <IntegerDataEncoding sizeInBits="8" />
            </IntegerParameterType>
            <EnumeratedParameterType name="uint2_opsmode_t">
                <UnitSet/>
                <IntegerDataEncoding sizeInBits="2" />
                <EnumerationList>
                    <Enumeration value="0" label="init" />
                    <Enumeration value="1" label="checkout" />
                    <Enumeration value="2" label="nominal" />
                    <Enumeration value="3" label="done" />
                </EnumerationList>
            </EnumeratedParameterType>
            <EnumeratedParameterType name="uint2_state_t">
                <UnitSet/>
                <IntegerDataEncoding sizeInBits="2" />
                <EnumerationList>
                    <Enumeration value="0" label="static" />
                    <Enumeration value="1" label="thrust" />
                    <Enumeration value="2" label="freefall" />
                    <Enumeration value="3" label="parachute" />
                </EnumerationList>
            </EnumeratedParameterType>
            <EnumeratedParameterType name="uint2_fs_t">
                <UnitSet/>
                <IntegerDataEncoding sizeInBits="2" />
                <EnumerationList>
                    <Enumeration value="0" label="none" />
                    <Enumeration value="1" label="littlefs" />
                    <Enumeration value="2" label="SD MMC" />
                    <Enumeration value="3" label="invalid" />
                </EnumerationList>
            </EnumeratedParameterType>
            <IntegerParameterType name="uint4_t" signed="false">
                <UnitSet/>
                <IntegerDataEncoding encoding="unsigned" sizeInBits="4" />
            </IntegerParameterType>
            <EnumeratedParameterType name="uint2_cammode_t">
                <UnitSet/>
                <IntegerDataEncoding sizeInBits="2" />
                <EnumerationList>
                    <Enumeration value="0" label="init" />
                    <Enumeration value="1" label="idle" />
                    <Enumeration value="2" label="single" />
                    <Enumeration value="3" label="stream" />
                </EnumerationList>
            </EnumeratedParameterType>
            <EnumeratedParameterType name="uint4_resolution_t">
                <UnitSet/>
                <IntegerDataEncoding sizeInBits="4" />
                <EnumerationList>
                    <Enumeration value="0" label="160x120" />
                    <Enumeration value="1" label="invalid1" />
                    <Enumeration value="2" label="invalid2" />
                    <Enumeration value="3" label="240x176" />
                    <Enumeration value="4" label="320x240" />
                    <Enumeration value="5" label="400x300" />
                    <Enumeration value="6" label="640x480" />
                    <Enumeration value="7" label="800x600" />
                    <Enumeration value="8" label="1024x768" />
                    <Enumeration value="9" label="1280x1024" />
                    <Enumeration value="10" label="1600x1200" />
                </EnumerationList>
            </EnumeratedParameterType>
            <EnumeratedParameterType name="uint4_gpsstatus_t">
                <UnitSet/>
                <IntegerDataEncoding sizeInBits="4" />
                <EnumerationList>
                    <Enumeration value="0" label="none" />
                    <Enumeration value="1" label="est" />
                    <Enumeration value="2" label="time_only" />
                    <Enumeration value="3" label="standard" />
                    <Enumeration value="4" label="differential" />
                    <Enumeration value="5" label="rtk_float" />
                    <Enumeration value="6" label="rtk_fixed" />
                    <Enumeration value="7" label="status_pps" />
                    <Enumeration value="8" label="waiting" />
                </EnumerationList>
            </EnumeratedParameterType>
            <EnumeratedParameterType name="uint4_event_t">
                <UnitSet/>
                <IntegerDataEncoding sizeInBits="4" />
                <EnumerationList>
                    <Enumeration value="0" label="init" />
                    <Enumeration value="1" label="info" />
                    <Enumeration value="2" label="warning" />
                    <Enumeration value="3" label="error" />
                    <Enumeration value="4" label="cmd" />
                    <Enumeration value="5" label="cmd_ack" />
                    <Enumeration value="6" label="cmd_resp" />
                    <Enumeration value="7" label="cmd_fail" />
                </EnumerationList>
            </EnumeratedParameterType>
            <EnumeratedParameterType name="uint4_subsystem_t">
                <UnitSet/>
                <IntegerDataEncoding sizeInBits="4" />
                <EnumerationList>
                    <Enumeration value="0" label="esp32" />
                    <Enumeration value="1" label="esp32cam" />
                    <Enumeration value="2" label="ov2640" />
                    <Enumeration value="3" label="neo6mv2" />
                    <Enumeration value="4" label="mpu6050" />
                    <Enumeration value="5" label="bmp280" />
                    <Enumeration value="6" label="radio" />
                    <Enumeration value="7" label="sd" />
                    <Enumeration value="8" label="separation" />
                    <Enumeration value="9" label="timer" />
                    <Enumeration value="10" label="fli3d" />
                    <Enumeration value="11" label="ground" />
                    <Enumeration value="12" label="any" />
                </EnumerationList>
            </EnumeratedParameterType>
            <EnumeratedParameterType name="uint2_accel_t">
                <UnitSet/>
                <IntegerDataEncoding sizeInBits="2" />
                <EnumerationList>
                    <Enumeration value="0" label="+/-2 g" />
                    <Enumeration value="1" label="+/-4 g" />
                    <Enumeration value="2" label="+/-8 g" />
                    <Enumeration value="3" label="+/-16 g" />
                </EnumerationList>
            </EnumeratedParameterType>
            <EnumeratedParameterType name="uint2_gyro_t">
                <UnitSet/>
                <IntegerDataEncoding sizeInBits="2" />
                <EnumerationList>
                    <Enumeration value="0" label="+/-250 °/s" />
                    <Enumeration value="1" label="+/-500 °/s" />
                    <Enumeration value="2" label="+/-1000 °/s" />
                    <Enumeration value="3" label="+/-2000 °/s" />
                </EnumerationList>
            </EnumeratedParameterType>
            <BooleanParameterType name="bool_t">
                <UnitSet />
                <IntegerDataEncoding sizeInBits="1" />
            </BooleanParameterType>
        </ParameterTypeSet>
        <AlgorithmSet>
           <CustomAlgorithm name="sts_esp32_event">
             <AlgorithmText language="JavaScript"><![CDATA[
               switch (type.value) {
                 case "init":
                 case "info":
                           Yamcs.info(type.value + ': [' + subsystem.value + '] ' + message.value);
                           break;
                 case "cmd":  
                 case "cmd_ack":  
                 case "cmd_resp":  
                           Yamcs.watch(type.value + ': [' + subsystem.value + '] ' + message.value);    
                           break;
                 case "cmd_fail":  
                 case "warning":
                           Yamcs.warning(type.value + ': [' + subsystem.value + '] ' + message.value);    
                           break;
                 default:
                           Yamcs.severe(type.value + ': [' + subsystem.value + '] ' + message.value);    
                           break;
               }
             ]]></AlgorithmText>
             <InputSet>
               <InputParameterInstanceRef parameterRef="STSESP32_message" inputName="message" />
               <InputParameterInstanceRef parameterRef="STSESP32_type" inputName="type" />
               <InputParameterInstanceRef parameterRef="STSESP32_subsystem" inputName="subsystem" />
             </InputSet>
             <TriggerSet>
               <OnParameterUpdateTrigger parameterRef="STSESP32_packet_ctr" />
             </TriggerSet>
           </CustomAlgorithm>
           <CustomAlgorithm name="sts_esp32cam_event">
             <AlgorithmText language="JavaScript"><![CDATA[
               switch (type.value) {
                 case "init":
                 case "info":
                           Yamcs.info(type.value + ': [' + subsystem.value + '] ' + message.value);
                           break;
                 case "cmd":  
                 case "cmd_ack":  
                 case "cmd_resp":  
                           Yamcs.watch(type.value + ': [' + subsystem.value + '] ' + message.value);    
                           break;
                 case "cmd_fail":  
                 case "warning":
                           Yamcs.warning(type.value + ': [' + subsystem.value + '] ' + message.value);    
                           break;
                 default:
                           Yamcs.severe(type.value + ': [' + subsystem.value + '] ' + message.value);    
                           break;
               }
             ]]></AlgorithmText>
             <InputSet>
               <InputParameterInstanceRef parameterRef="STSESP32CAM_message" inputName="message" />
               <InputParameterInstanceRef parameterRef="STSESP32CAM_type" inputName="type" />
               <InputParameterInstanceRef parameterRef="STSESP32CAM_subsystem" inputName="subsystem" />
             </InputSet>
             <TriggerSet>
               <OnParameterUpdateTrigger parameterRef="STSESP32CAM_packet_ctr" />
             </TriggerSet>
           </CustomAlgorithm>
           <CustomAlgorithm name="tm_esp32_err_yamcs_dataloss">
             <AlgorithmText language="JavaScript"><![CDATA[
               var wasYamcsDataLoss;
               var yamcsDataLoss = err_yamcs_dataloss.value;
               if (wasYamcsDataLoss !== undefined) {
                 if (yamcsDataLoss && !wasYamcsDataLoss) {
                   Yamcs.severe('error: [esp32] Data loss on yamcs connection'); 
                 } else if (!yamcsDataLoss && wasYamcsDataLoss) {
                   Yamcs.warning('warning: [ESP32] End of data loss on yamcs connection');
                 }
               }
               wasYamcsDataLoss = yamcsDataLoss;
             ]]></AlgorithmText>
             <InputSet>
               <InputParameterInstanceRef parameterRef="ESP32_err_yamcs_dataloss" inputName="err_yamcs_dataloss" />
             </InputSet>
             <TriggerSet>
               <OnParameterUpdateTrigger parameterRef="ESP32_err_yamcs_dataloss" />
             </TriggerSet>
           </CustomAlgorithm>
           <CustomAlgorithm name="tm_esp32_err_serial_dataloss">
             <AlgorithmText language="JavaScript"><![CDATA[
               var wasSerDataLoss;
               var serDataLoss = err_serial_dataloss.value;
               if (wasSerDataLoss !== undefined) {
                 if (serDataLoss && !wasSerDataLoss) {
                   Yamcs.severe('error: [esp32] Data loss on serial connection'); 
                 } else if (!serDataLoss && wasSerDataLoss) {
                   Yamcs.warning('warning: [esp32] End of data loss on serial connection');
                 }
               }
               wasSerDataLoss = serDataLoss;
             ]]></AlgorithmText>
             <InputSet>
               <InputParameterInstanceRef parameterRef="ESP32_err_serial_dataloss" inputName="err_serial_dataloss" />
             </InputSet>
             <TriggerSet>
               <OnParameterUpdateTrigger parameterRef="ESP32_err_serial_dataloss" />
             </TriggerSet>
           </CustomAlgorithm>
        </AlgorithmSet>
        <ParameterSet>
            <Parameter name="CCSDS_Packet_ID" parameterTypeRef="CCSDS_PacketID_t" />
            <Parameter name="CCSDS_Packet_Sequence" parameterTypeRef="CCSDS_PacketSequence_t" />
            <Parameter name="CCSDS_Packet_Length" parameterTypeRef="CCSDS_PacketLength_t" />
      
            <Parameter name="STSESP32_millis" parameterTypeRef="uint24_t" />
            <Parameter name="STSESP32_packet_ctr" parameterTypeRef="uint16_t" />
            <Parameter name="STSESP32_type" parameterTypeRef="uint4_event_t" />
            <Parameter name="STSESP32_subsystem" parameterTypeRef="uint4_subsystem_t" />
            <Parameter name="STSESP32_message" parameterTypeRef="string_t" />
        
            <Parameter name="STSESP32CAM_millis" parameterTypeRef="uint24_t" />
            <Parameter name="STSESP32CAM_packet_ctr" parameterTypeRef="uint16_t" />
            <Parameter name="STSESP32CAM_type" parameterTypeRef="uint4_event_t" />
            <Parameter name="STSESP32CAM_subsystem" parameterTypeRef="uint4_subsystem_t" />
            <Parameter name="STSESP32CAM_message" parameterTypeRef="string_t" />
        
            <Parameter name="ESP32_millis" parameterTypeRef="uint24_t" />
            <Parameter name="ESP32_packet_ctr" parameterTypeRef="uint16_t" />
            <Parameter name="ESP32_opsmode" parameterTypeRef="uint2_opsmode_t" />
            <Parameter name="ESP32_state" parameterTypeRef="uint2_state_t" />
            <Parameter name="ESP32_buffer_fs" parameterTypeRef="uint2_fs_t" />
            <Parameter name="ESP32_ftp_fs" parameterTypeRef="uint2_fs_t" />
            <Parameter name="ESP32_error_ctr" parameterTypeRef="uint8_t" />
            <Parameter name="ESP32_warning_ctr" parameterTypeRef="uint8_t" />
            <Parameter name="ESP32_tc_exec_ctr" parameterTypeRef="uint8_t" />
            <Parameter name="ESP32_tc_fail_ctr" parameterTypeRef="uint8_t" />
            <Parameter name="ESP32_radio_rate" parameterTypeRef="uint8_rate_t" />
            <Parameter name="ESP32_pressure_rate" parameterTypeRef="uint8_rate_t" />
            <Parameter name="ESP32_motion_rate" parameterTypeRef="uint8_rate_t" />
            <Parameter name="ESP32_gps_rate" parameterTypeRef="uint8_rate_t" />
            <Parameter name="ESP32_camera_rate" parameterTypeRef="uint8_rate_t" />
            <Parameter name="ESP32_udp_rate" parameterTypeRef="uint8_rate_t" />
            <Parameter name="ESP32_yamcs_rate" parameterTypeRef="uint8_rate_t" />
            <Parameter name="ESP32_serial_in_rate" parameterTypeRef="uint8_rate_t" />
            <Parameter name="ESP32_serial_out_rate" parameterTypeRef="uint8_rate_t" />
            <Parameter name="ESP32_fs_rate" parameterTypeRef="uint8_rate_t" />
            <Parameter name="ESP32_yamcs_buffer" parameterTypeRef="uint8_t" />
            <Parameter name="ESP32_serial_out_buffer" parameterTypeRef="uint8_t" />
            <Parameter name="ESP32_mem_free" parameterTypeRef="uint16_kB_t" />
            <Parameter name="ESP32_fs_free" parameterTypeRef="uint16_kB_t" />
            <Parameter name="ESP32_radio_enabled" parameterTypeRef="bool_t" />
            <Parameter name="ESP32_pressure_enabled" parameterTypeRef="bool_t" />
            <Parameter name="ESP32_motion_enabled" parameterTypeRef="bool_t" />
            <Parameter name="ESP32_gps_enabled" parameterTypeRef="bool_t" />
            <Parameter name="ESP32_camera_enabled" parameterTypeRef="bool_t" />
            <Parameter name="ESP32_wifi_enabled" parameterTypeRef="bool_t" />
            <Parameter name="ESP32_wifi_udp_enabled" parameterTypeRef="bool_t" />
            <Parameter name="ESP32_wifi_yamcs_enabled" parameterTypeRef="bool_t" />
            <Parameter name="ESP32_fs_enabled" parameterTypeRef="bool_t" />
            <Parameter name="ESP32_ftp_enabled" parameterTypeRef="bool_t" />
            <Parameter name="ESP32_ota_enabled" parameterTypeRef="bool_t" />
            <Parameter name="ESP32_free_24" parameterTypeRef="bool_t" />
            <Parameter name="ESP32_free_23" parameterTypeRef="bool_t" />
            <Parameter name="ESP32_free_22" parameterTypeRef="bool_t" />
            <Parameter name="ESP32_free_21" parameterTypeRef="bool_t" />
            <Parameter name="ESP32_time_set" parameterTypeRef="bool_t" />
            <Parameter name="ESP32_serial_connected" parameterTypeRef="bool_t" />
            <Parameter name="ESP32_wifi_connected" parameterTypeRef="bool_t" />
            <Parameter name="ESP32_warn_serial_connloss" parameterTypeRef="bool_t" />
            <Parameter name="ESP32_warn_wifi_connloss" parameterTypeRef="bool_t" />
            <Parameter name="ESP32_err_serial_dataloss" parameterTypeRef="bool_t" />
            <Parameter name="ESP32_err_yamcs_dataloss" parameterTypeRef="bool_t" />
            <Parameter name="ESP32_err_fs_dataloss" parameterTypeRef="bool_t" />
            <Parameter name="ESP32_separation_sts" parameterTypeRef="bool_t" />
            <Parameter name="ESP32_radio_active" parameterTypeRef="bool_t" />
            <Parameter name="ESP32_pressure_active" parameterTypeRef="bool_t" />
            <Parameter name="ESP32_motion_active" parameterTypeRef="bool_t" />
            <Parameter name="ESP32_gps_active" parameterTypeRef="bool_t" />
            <Parameter name="ESP32_camera_active" parameterTypeRef="bool_t" />
            <Parameter name="ESP32_fs_active" parameterTypeRef="bool_t" />
            <Parameter name="ESP32_ftp_active" parameterTypeRef="bool_t" />
            <Parameter name="ESP32_buffer_active" parameterTypeRef="bool_t" />

            <Parameter name="ESP32CAM_millis" parameterTypeRef="uint24_t" />
            <Parameter name="ESP32CAM_packet_ctr" parameterTypeRef="uint16_t" />
            <Parameter name="ESP32CAM_opsmode" parameterTypeRef="uint2_opsmode_t" />
            <Parameter name="ESP32CAM_buffer_fs" parameterTypeRef="uint2_fs_t" />
            <Parameter name="ESP32CAM_ftp_fs" parameterTypeRef="uint2_fs_t" />
            <Parameter name="ESP32CAM_free01" parameterTypeRef="bool_t" />
            <Parameter name="ESP32CAM_free00" parameterTypeRef="bool_t" />
            <Parameter name="ESP32CAM_error_ctr" parameterTypeRef="uint8_t" />
            <Parameter name="ESP32CAM_warning_ctr" parameterTypeRef="uint8_t" />
            <Parameter name="ESP32CAM_tc_exec_ctr" parameterTypeRef="uint8_t" />
            <Parameter name="ESP32CAM_tc_fail_ctr" parameterTypeRef="uint8_t" />
            <Parameter name="ESP32CAM_camera_rate" parameterTypeRef="uint8_rate_t" />
            <Parameter name="ESP32CAM_udp_rate" parameterTypeRef="uint8_rate_t" />
            <Parameter name="ESP32CAM_yamcs_rate" parameterTypeRef="uint8_rate_t" />
            <Parameter name="ESP32CAM_serial_in_rate" parameterTypeRef="uint8_rate_t" />
            <Parameter name="ESP32CAM_serial_out_rate" parameterTypeRef="uint8_rate_t" />
            <Parameter name="ESP32CAM_fs_rate" parameterTypeRef="uint8_rate_t" />
            <Parameter name="ESP32CAM_sd_json_rate" parameterTypeRef="uint8_rate_t" />
            <Parameter name="ESP32CAM_sd_ccsds_rate" parameterTypeRef="uint8_rate_t" />
            <Parameter name="ESP32CAM_sd_image_rate" parameterTypeRef="uint8_rate_t" />
            <Parameter name="ESP32CAM_yamcs_buffer" parameterTypeRef="uint8_t" />
            <Parameter name="ESP32CAM_serial_out_buffer" parameterTypeRef="uint8_t" />
            <Parameter name="ESP32CAM_mem_free" parameterTypeRef="uint16_kB_t" />
            <Parameter name="ESP32CAM_fs_free" parameterTypeRef="uint16_kB_t" />
            <Parameter name="ESP32CAM_sd_free" parameterTypeRef="uint16_MB_t" />
            <Parameter name="ESP32CAM_camera_enabled" parameterTypeRef="bool_t" />
            <Parameter name="ESP32CAM_wifi_enabled" parameterTypeRef="bool_t" />
            <Parameter name="ESP32CAM_wifi_udp_enabled" parameterTypeRef="bool_t" />
            <Parameter name="ESP32CAM_wifi_yamcs_enabled" parameterTypeRef="bool_t" />
            <Parameter name="ESP32CAM_wifi_image_enabled" parameterTypeRef="bool_t" />
            <Parameter name="ESP32CAM_free_12" parameterTypeRef="bool_t" />
            <Parameter name="ESP32CAM_free_11" parameterTypeRef="bool_t" />
            <Parameter name="ESP32CAM_time_set" parameterTypeRef="bool_t" />
            <Parameter name="ESP32CAM_fs_enabled" parameterTypeRef="bool_t" />
            <Parameter name="ESP32CAM_sd_enabled" parameterTypeRef="bool_t" />
            <Parameter name="ESP32CAM_ftp_enabled" parameterTypeRef="bool_t" />
            <Parameter name="ESP32CAM_ota_enabled" parameterTypeRef="bool_t" />
            <Parameter name="ESP32CAM_sd_image_enabled" parameterTypeRef="bool_t" />
            <Parameter name="ESP32CAM_sd_json_enabled" parameterTypeRef="bool_t" />
            <Parameter name="ESP32CAM_sd_ccsds_enabled" parameterTypeRef="bool_t" />
            <Parameter name="ESP32CAM_http_enabled" parameterTypeRef="bool_t" />
            <Parameter name="ESP32CAM_serial_connected" parameterTypeRef="bool_t" />
            <Parameter name="ESP32CAM_wifi_connected" parameterTypeRef="bool_t" />
            <Parameter name="ESP32CAM_warn_serial_connloss" parameterTypeRef="bool_t" />
            <Parameter name="ESP32CAM_warn_wifi_connloss" parameterTypeRef="bool_t" />
            <Parameter name="ESP32CAM_err_serial_dataloss" parameterTypeRef="bool_t" />
            <Parameter name="ESP32CAM_err_yamcs_dataloss" parameterTypeRef="bool_t" />
            <Parameter name="ESP32CAM_err_fs_dataloss" parameterTypeRef="bool_t" />
            <Parameter name="ESP32CAM_err_sd_dataloss" parameterTypeRef="bool_t" />
            <Parameter name="ESP32CAM_camera_active" parameterTypeRef="bool_t" />
            <Parameter name="ESP32CAM_fs_active" parameterTypeRef="bool_t" />
            <Parameter name="ESP32CAM_sd_active" parameterTypeRef="bool_t" />
            <Parameter name="ESP32CAM_ftp_active" parameterTypeRef="bool_t" />
            <Parameter name="ESP32CAM_buffer_active" parameterTypeRef="bool_t" />
            <Parameter name="ESP32CAM_http_active" parameterTypeRef="bool_t" />            
            <Parameter name="ESP32CAM_free_41" parameterTypeRef="bool_t" />
            <Parameter name="ESP32CAM_free_40" parameterTypeRef="bool_t" />

            <Parameter name="CAMERA_millis" parameterTypeRef="uint24_t" />
            <Parameter name="CAMERA_packet_ctr" parameterTypeRef="uint16_t" />
            <Parameter name="CAMERA_camera_mode" parameterTypeRef="uint2_cammode_t" />
            <Parameter name="CAMERA_resolution" parameterTypeRef="uint4_resolution_t" />
            <Parameter name="CAMERA_auto_res" parameterTypeRef="bool_t" />
            <Parameter name="CAMERA_free_00" parameterTypeRef="bool_t" />
            <Parameter name="CAMERA_filesize" parameterTypeRef="uint24_t" />
            <Parameter name="CAMERA_wifi_ms" parameterTypeRef="uint8_duration_t" />
            <Parameter name="CAMERA_sd_ms" parameterTypeRef="uint8_duration_t" />
            <Parameter name="CAMERA_exposure_ms" parameterTypeRef="uint8_duration_t" />
            <Parameter name="CAMERA_filename" parameterTypeRef="string_t" />

            <Parameter name="PRESSURE_millis" parameterTypeRef="uint24_t" />
            <Parameter name="PRESSURE_packet_ctr" parameterTypeRef="uint16_t" />
            <Parameter name="PRESSURE_pressure" parameterTypeRef="uint32_hPa_from_Pa_t" />
            <Parameter name="PRESSURE_zero_level_pressure" parameterTypeRef="uint32_hPa_from_Pa_t" />
            <Parameter name="PRESSURE_height" parameterTypeRef="int16_m_from_cm_t" />
            <Parameter name="PRESSURE_velocity_v" parameterTypeRef="int16_mps_from_cmps_t" />
            <Parameter name="PRESSURE_temperature" parameterTypeRef="int16_degC_from_cdegC_t" />
            <Parameter name="PRESSURE_height_valid" parameterTypeRef="bool_t" />
            <Parameter name="PRESSURE_free_06" parameterTypeRef="bool_t" />
            <Parameter name="PRESSURE_free_05" parameterTypeRef="bool_t" />
            <Parameter name="PRESSURE_free_04" parameterTypeRef="bool_t" />
            <Parameter name="PRESSURE_free_03" parameterTypeRef="bool_t" />
            <Parameter name="PRESSURE_free_02" parameterTypeRef="bool_t" />
            <Parameter name="PRESSURE_free_01" parameterTypeRef="bool_t" />
            <Parameter name="PRESSURE_free_00" parameterTypeRef="bool_t" />

            <Parameter name="MOTION_millis" parameterTypeRef="uint24_t" />
            <Parameter name="MOTION_packet_ctr" parameterTypeRef="uint16_t" />
            <Parameter name="MOTION_accel_x" parameterTypeRef="int16_cmps2_from_mps2_t" />
            <Parameter name="MOTION_accel_y" parameterTypeRef="int16_cmps2_from_mps2_t" />
            <Parameter name="MOTION_accel_z" parameterTypeRef="int16_cmps2_from_mps2_t" />
            <Parameter name="MOTION_gyro_x" parameterTypeRef="int16_degps_from_cdegps_t" />
            <Parameter name="MOTION_gyro_y" parameterTypeRef="int16_degps_from_cdegps_t" />
            <Parameter name="MOTION_gyro_z" parameterTypeRef="int16_degps_from_cdegps_t" />
            <Parameter name="MOTION_tilt" parameterTypeRef="int16_deg_from_cdeg_t" />
            <Parameter name="MOTION_g" parameterTypeRef="int16_G_from_mG_t" />
            <Parameter name="MOTION_a" parameterTypeRef="int16_cmps2_from_mps2_t" />
            <Parameter name="MOTION_rpm" parameterTypeRef="int16_rpm_from_crpm_t" />
            <Parameter name="MOTION_accel_range" parameterTypeRef="uint2_accel_t" />
            <Parameter name="MOTION_gyro_range" parameterTypeRef="uint2_gyro_t" />
            <Parameter name="MOTION_accel_valid" parameterTypeRef="bool_t" />
            <Parameter name="MOTION_gyro_valid" parameterTypeRef="bool_t" />
            <Parameter name="MOTION_free_01" parameterTypeRef="bool_t" />
            <Parameter name="MOTION_free_00" parameterTypeRef="bool_t" />
            
            <Parameter name="GPS_millis" parameterTypeRef="uint24_t" />
            <Parameter name="GPS_packet_ctr" parameterTypeRef="uint16_t" />
            <Parameter name="GPS_status" parameterTypeRef="uint4_gpsstatus_t" />
            <Parameter name="GPS_satellites" parameterTypeRef="uint4_t" />
            <Parameter name="GPS_hours" parameterTypeRef="uint8_t" />
            <Parameter name="GPS_minutes" parameterTypeRef="uint8_t" />
            <Parameter name="GPS_seconds" parameterTypeRef="uint8_t" />
            <Parameter name="GPS_centiseconds" parameterTypeRef="uint8_t" />
            <Parameter name="GPS_latitude" parameterTypeRef="int32_1E7deg_t" />
            <Parameter name="GPS_longitude" parameterTypeRef="int32_1E7deg_t" />
            <Parameter name="GPS_altitude" parameterTypeRef="int32_m_from_cm_t" />
            <Parameter name="GPS_latitude_zero" parameterTypeRef="int32_1E7deg_t" />
            <Parameter name="GPS_longitude_zero" parameterTypeRef="int32_1E7deg_t" />
            <Parameter name="GPS_altitude_zero" parameterTypeRef="int32_m_from_cm_t" />
            <Parameter name="GPS_x" parameterTypeRef="int16_m_from_cm_t" />
            <Parameter name="GPS_y" parameterTypeRef="int16_m_from_cm_t" />
            <Parameter name="GPS_z" parameterTypeRef="int16_m_from_cm_t" />
            <Parameter name="GPS_x_err" parameterTypeRef="int16_m_from_cm_t" />
            <Parameter name="GPS_y_err" parameterTypeRef="int16_m_from_cm_t" />
            <Parameter name="GPS_z_err" parameterTypeRef="int16_m_from_cm_t" />
            <Parameter name="GPS_v_north" parameterTypeRef="int32_mps_from_cmps_t" />
            <Parameter name="GPS_v_east" parameterTypeRef="int32_mps_from_cmps_t" />
            <Parameter name="GPS_v_down" parameterTypeRef="int32_mps_from_cmps_t" />
            <Parameter name="GPS_milli_hdop" parameterTypeRef="uint16_milli_t" />
            <Parameter name="GPS_milli_vdop" parameterTypeRef="uint16_milli_t" />
            <Parameter name="GPS_milli_pdop" parameterTypeRef="uint16_milli_t" />
            <Parameter name="GPS_time_valid" parameterTypeRef="bool_t" />
            <Parameter name="GPS_location_valid" parameterTypeRef="bool_t" />
            <Parameter name="GPS_altitude_valid" parameterTypeRef="bool_t" />
            <Parameter name="GPS_speed_valid" parameterTypeRef="bool_t" />
            <Parameter name="GPS_hdop_valid" parameterTypeRef="bool_t" />
            <Parameter name="GPS_vdop_valid" parameterTypeRef="bool_t" />
            <Parameter name="GPS_pdop_valid" parameterTypeRef="bool_t" />
            <Parameter name="GPS_error_valid" parameterTypeRef="bool_t" />
            <Parameter name="GPS_offset_valid" parameterTypeRef="bool_t" />
            <Parameter name="GPS_free_16" parameterTypeRef="bool_t" />
            <Parameter name="GPS_free_15" parameterTypeRef="bool_t" />
            <Parameter name="GPS_free_14" parameterTypeRef="bool_t" />
            <Parameter name="GPS_free_13" parameterTypeRef="bool_t" />
            <Parameter name="GPS_free_12" parameterTypeRef="bool_t" />
            <Parameter name="GPS_free_11" parameterTypeRef="bool_t" />
            <Parameter name="GPS_free_10" parameterTypeRef="bool_t" />

            <Parameter name="RADIO_millis" parameterTypeRef="uint24_t" />
            <Parameter name="RADIO_packet_ctr" parameterTypeRef="uint16_t" />
            <Parameter name="RADIO_opsmode" parameterTypeRef="uint2_opsmode_t" />
            <Parameter name="RADIO_state" parameterTypeRef="uint2_state_t" />
            <Parameter name="RADIO_pressure_active" parameterTypeRef="bool_t" />
            <Parameter name="RADIO_motion_active" parameterTypeRef="bool_t" />
            <Parameter name="RADIO_gps_active" parameterTypeRef="bool_t" />
            <Parameter name="RADIO_camera_active" parameterTypeRef="bool_t" />
            <Parameter name="RADIO_error_ctr" parameterTypeRef="uint8_t" />
            <Parameter name="RADIO_warning_ctr" parameterTypeRef="uint8_t" /> 
            <Parameter name="RADIO_pressure_height" parameterTypeRef="uint8_distance_t" />
            <Parameter name="RADIO_pressure_velocity_v" parameterTypeRef="int8_velocity_t" />
            <Parameter name="RADIO_temperature" parameterTypeRef="int8_temperature_t" />
            <Parameter name="RADIO_motion_tilt" parameterTypeRef="uint8_angle_t" />
            <Parameter name="RADIO_motion_g" parameterTypeRef="uint8_G_t" />
            <Parameter name="RADIO_motion_a" parameterTypeRef="int8_accel_t" />
            <Parameter name="RADIO_motion_rpm" parameterTypeRef="int8_rpm_t" />
            <Parameter name="RADIO_esp32cam_wifi_image_enabled" parameterTypeRef="bool_t" />
            <Parameter name="RADIO_esp32cam_sd_image_enabled" parameterTypeRef="bool_t" />
            <Parameter name="RADIO_esp32cam_buffer_active" parameterTypeRef="bool_t" />
            <Parameter name="RADIO_esp32_buffer_active" parameterTypeRef="bool_t" />
            <Parameter name="RADIO_gps_satellites" parameterTypeRef="uint4_t" />
            <Parameter name="RADIO_gps_velocity_v" parameterTypeRef="int8_velocity_t" />
            <Parameter name="RADIO_gps_velocity" parameterTypeRef="uint8_velocity_t" />
            <Parameter name="RADIO_gps_height" parameterTypeRef="uint8_distance_t" />
            <Parameter name="RADIO_camera_image_ctr" parameterTypeRef="uint16_t" />    
            <Parameter name="RADIO_esp32_serial_connected" parameterTypeRef="bool_t" />
            <Parameter name="RADIO_esp32_wifi_connected" parameterTypeRef="bool_t" />
            <Parameter name="RADIO_esp32_warn_serial_connloss" parameterTypeRef="bool_t" />
            <Parameter name="RADIO_esp32_warn_wifi_connloss" parameterTypeRef="bool_t" />
            <Parameter name="RADIO_esp32_err_serial_dataloss" parameterTypeRef="bool_t" />
            <Parameter name="RADIO_esp32_err_yamcs_dataloss" parameterTypeRef="bool_t" />
            <Parameter name="RADIO_esp32_err_fs_dataloss" parameterTypeRef="bool_t" />
            <Parameter name="RADIO_separation_sts" parameterTypeRef="bool_t" />
            <Parameter name="RADIO_esp32cam_serial_connected" parameterTypeRef="bool_t" />
            <Parameter name="RADIO_esp32cam_wifi_connected" parameterTypeRef="bool_t" />
            <Parameter name="RADIO_esp32cam_warn_serial_connloss" parameterTypeRef="bool_t" />
            <Parameter name="RADIO_esp32cam_warn_wifi_connloss" parameterTypeRef="bool_t" />
            <Parameter name="RADIO_esp32cam_err_serial_dataloss" parameterTypeRef="bool_t" />
            <Parameter name="RADIO_esp32cam_err_yamcs_dataloss" parameterTypeRef="bool_t" />
            <Parameter name="RADIO_esp32cam_err_fs_dataloss" parameterTypeRef="bool_t" />
            <Parameter name="RADIO_esp32cam_err_sd_dataloss" parameterTypeRef="bool_t" />

            <Parameter name="TIMER_ESP32_millis" parameterTypeRef="uint24_t" />
            <Parameter name="TIMER_ESP32_packet_ctr" parameterTypeRef="uint16_t" />
            <Parameter name="TIMER_ESP32_radio_duration" parameterTypeRef="uint16_duration_t" />
            <Parameter name="TIMER_ESP32_pressure_duration" parameterTypeRef="uint16_duration_t" />
            <Parameter name="TIMER_ESP32_motion_duration" parameterTypeRef="uint16_duration_t" />
            <Parameter name="TIMER_ESP32_gps_duration" parameterTypeRef="uint16_duration_t" />
            <Parameter name="TIMER_ESP32_esp32cam_duration" parameterTypeRef="uint16_duration_t" />
            <Parameter name="TIMER_ESP32_serial_duration" parameterTypeRef="uint16_duration_t" />
            <Parameter name="TIMER_ESP32_ota_duration" parameterTypeRef="uint16_duration_t" />
            <Parameter name="TIMER_ESP32_ftp_duration" parameterTypeRef="uint16_duration_t" />
            <Parameter name="TIMER_ESP32_wifi_duration" parameterTypeRef="uint16_duration_t" />
            <Parameter name="TIMER_ESP32_tc_duration" parameterTypeRef="uint16_duration_t" />
            <Parameter name="TIMER_ESP32_idle_duration" parameterTypeRef="uint16_duration_t" />
            <Parameter name="TIMER_ESP32_publish_fs_duration" parameterTypeRef="uint16_duration_t" />
            <Parameter name="TIMER_ESP32_publish_serial_duration" parameterTypeRef="uint16_duration_t" />
            <Parameter name="TIMER_ESP32_publish_yamcs_duration" parameterTypeRef="uint16_duration_t" />
            <Parameter name="TIMER_ESP32_publish_udp_duration" parameterTypeRef="uint16_duration_t" />
            
            <Parameter name="TIMER_ESP32CAM_millis" parameterTypeRef="uint24_t" />
            <Parameter name="TIMER_ESP32CAM_packet_ctr" parameterTypeRef="uint16_t" />
            <Parameter name="TIMER_ESP32CAM_camera_duration" parameterTypeRef="uint16_duration_t" />
            <Parameter name="TIMER_ESP32CAM_serial_duration" parameterTypeRef="uint16_duration_t" />
            <Parameter name="TIMER_ESP32CAM_tc_duration" parameterTypeRef="uint16_duration_t" />
            <Parameter name="TIMER_ESP32CAM_sd_duration" parameterTypeRef="uint16_duration_t" />
            <Parameter name="TIMER_ESP32CAM_ftp_duration" parameterTypeRef="uint16_duration_t" />
            <Parameter name="TIMER_ESP32CAM_wifi_duration" parameterTypeRef="uint16_duration_t" />
            <Parameter name="TIMER_ESP32CAM_idle_duration" parameterTypeRef="uint16_duration_t" />
            <Parameter name="TIMER_ESP32CAM_publish_sd_duration" parameterTypeRef="uint16_duration_t" />
            <Parameter name="TIMER_ESP32CAM_publish_fs_duration" parameterTypeRef="uint16_duration_t" />
            <Parameter name="TIMER_ESP32CAM_publish_serial_duration" parameterTypeRef="uint16_duration_t" />
            <Parameter name="TIMER_ESP32CAM_publish_yamcs_duration" parameterTypeRef="uint16_duration_t" />
            <Parameter name="TIMER_ESP32CAM_publish_udp_duration" parameterTypeRef="uint16_duration_t" />
        </ParameterSet>
        <ContainerSet>
            <SequenceContainer abstract="true" name="CCSDSPacket">
                <EntryList>
                    <ParameterRefEntry parameterRef="CCSDS_Packet_ID" />
                    <ParameterRefEntry parameterRef="CCSDS_Packet_Sequence" />
                    <ParameterRefEntry parameterRef="CCSDS_Packet_Length" />
                </EntryList>
            </SequenceContainer>
            <SequenceContainer name="TelemetryPacket">
                <BaseContainer containerRef="CCSDSPacket">
                    <RestrictionCriteria>
                        <ComparisonList>
                            <Comparison value="0" parameterRef="CCSDS_Packet_ID/Version" />
                            <Comparison value="TM" parameterRef="CCSDS_Packet_ID/Type" />
                        </ComparisonList>
                    </RestrictionCriteria>
                </BaseContainer>
                <EntryList />
            </SequenceContainer>
            <SequenceContainer name="Fli3d sts_esp32">
                <BaseContainer containerRef="TelemetryPacket">
                    <RestrictionCriteria>
                        <ComparisonList>
                            <Comparison value="NotPresent" parameterRef="CCSDS_Packet_ID/SecHdrFlag" />
                            <Comparison value="42" parameterRef="CCSDS_Packet_ID/APID" />
                        </ComparisonList>
                    </RestrictionCriteria>
                </BaseContainer>
                <EntryList>
                    <ParameterRefEntry parameterRef="STSESP32_millis" />
                    <ParameterRefEntry parameterRef="STSESP32_packet_ctr" />
                    <ParameterRefEntry parameterRef="STSESP32_subsystem" />
                    <ParameterRefEntry parameterRef="STSESP32_type" />
                    <ParameterRefEntry parameterRef="STSESP32_message" />
                </EntryList>
            </SequenceContainer>
            <SequenceContainer name="Fli3d sts_esp32cam">
                <BaseContainer containerRef="TelemetryPacket">
                    <RestrictionCriteria>
                        <ComparisonList>
                            <Comparison value="NotPresent" parameterRef="CCSDS_Packet_ID/SecHdrFlag" />
                            <Comparison value="43" parameterRef="CCSDS_Packet_ID/APID" />
                        </ComparisonList>
                    </RestrictionCriteria>
                </BaseContainer>
                <EntryList>
                    <ParameterRefEntry parameterRef="STSESP32CAM_millis" />
                    <ParameterRefEntry parameterRef="STSESP32CAM_packet_ctr" />
                    <ParameterRefEntry parameterRef="STSESP32CAM_subsystem" />
                    <ParameterRefEntry parameterRef="STSESP32CAM_type" />
                    <ParameterRefEntry parameterRef="STSESP32CAM_message" />
                </EntryList>
            </SequenceContainer>
            <SequenceContainer name="Fli3d tm_esp32">
                <BaseContainer containerRef="TelemetryPacket">
                    <RestrictionCriteria>
                        <ComparisonList>
                            <Comparison value="NotPresent" parameterRef="CCSDS_Packet_ID/SecHdrFlag" />
                            <Comparison value="44" parameterRef="CCSDS_Packet_ID/APID" />
                        </ComparisonList>
                    </RestrictionCriteria>
                </BaseContainer>
                <EntryList>
                    <ParameterRefEntry parameterRef="ESP32_millis" />
                    <ParameterRefEntry parameterRef="ESP32_packet_ctr" />
                    <ParameterRefEntry parameterRef="ESP32_ftp_fs" />
                    <ParameterRefEntry parameterRef="ESP32_buffer_fs" />
                    <ParameterRefEntry parameterRef="ESP32_state" />
                    <ParameterRefEntry parameterRef="ESP32_opsmode" />
                    <ParameterRefEntry parameterRef="ESP32_error_ctr" />
                    <ParameterRefEntry parameterRef="ESP32_warning_ctr" />
                    <ParameterRefEntry parameterRef="ESP32_tc_exec_ctr" />
                    <ParameterRefEntry parameterRef="ESP32_tc_fail_ctr" />
                    <ParameterRefEntry parameterRef="ESP32_radio_rate" />
                    <ParameterRefEntry parameterRef="ESP32_pressure_rate" />
                    <ParameterRefEntry parameterRef="ESP32_motion_rate" />
                    <ParameterRefEntry parameterRef="ESP32_gps_rate" />
                    <ParameterRefEntry parameterRef="ESP32_camera_rate" />
                    <ParameterRefEntry parameterRef="ESP32_udp_rate" />
                    <ParameterRefEntry parameterRef="ESP32_yamcs_rate" />
                    <ParameterRefEntry parameterRef="ESP32_serial_in_rate" />
                    <ParameterRefEntry parameterRef="ESP32_serial_out_rate" />
                    <ParameterRefEntry parameterRef="ESP32_fs_rate" />
                    <ParameterRefEntry parameterRef="ESP32_yamcs_buffer" />
                    <ParameterRefEntry parameterRef="ESP32_serial_out_buffer" />
                    <ParameterRefEntry parameterRef="ESP32_mem_free" />
                    <ParameterRefEntry parameterRef="ESP32_fs_free" />
                    <ParameterRefEntry parameterRef="ESP32_wifi_yamcs_enabled" />
                    <ParameterRefEntry parameterRef="ESP32_wifi_udp_enabled" />
                    <ParameterRefEntry parameterRef="ESP32_wifi_enabled" />
                    <ParameterRefEntry parameterRef="ESP32_camera_enabled" />
                    <ParameterRefEntry parameterRef="ESP32_gps_enabled" />
                    <ParameterRefEntry parameterRef="ESP32_motion_enabled" />
                    <ParameterRefEntry parameterRef="ESP32_pressure_enabled" />
                    <ParameterRefEntry parameterRef="ESP32_radio_enabled" />
                    <ParameterRefEntry parameterRef="ESP32_time_set" />
                    <ParameterRefEntry parameterRef="ESP32_free_21" />
                    <ParameterRefEntry parameterRef="ESP32_free_22" />
                    <ParameterRefEntry parameterRef="ESP32_free_23" />
                    <ParameterRefEntry parameterRef="ESP32_free_24" />
                    <ParameterRefEntry parameterRef="ESP32_ota_enabled" />
                    <ParameterRefEntry parameterRef="ESP32_ftp_enabled" />
                    <ParameterRefEntry parameterRef="ESP32_fs_enabled" />       
                    <ParameterRefEntry parameterRef="ESP32_separation_sts" />
                    <ParameterRefEntry parameterRef="ESP32_err_fs_dataloss" />
                    <ParameterRefEntry parameterRef="ESP32_err_yamcs_dataloss" />
                    <ParameterRefEntry parameterRef="ESP32_err_serial_dataloss" />
                    <ParameterRefEntry parameterRef="ESP32_warn_wifi_connloss" />
                    <ParameterRefEntry parameterRef="ESP32_warn_serial_connloss" />
                    <ParameterRefEntry parameterRef="ESP32_wifi_connected" />
                    <ParameterRefEntry parameterRef="ESP32_serial_connected" />   
                    <ParameterRefEntry parameterRef="ESP32_buffer_active" />
                    <ParameterRefEntry parameterRef="ESP32_ftp_active" />
                    <ParameterRefEntry parameterRef="ESP32_fs_active" />
                    <ParameterRefEntry parameterRef="ESP32_camera_active" />
                    <ParameterRefEntry parameterRef="ESP32_gps_active" />
                    <ParameterRefEntry parameterRef="ESP32_motion_active" />
                    <ParameterRefEntry parameterRef="ESP32_pressure_active" />
                    <ParameterRefEntry parameterRef="ESP32_radio_active" />
                </EntryList>
            </SequenceContainer>
            <SequenceContainer name="Fli3d tm_esp32cam">
                <BaseContainer containerRef="TelemetryPacket">
                    <RestrictionCriteria>
                        <ComparisonList>
                            <Comparison value="NotPresent" parameterRef="CCSDS_Packet_ID/SecHdrFlag" />
                            <Comparison value="45" parameterRef="CCSDS_Packet_ID/APID" />
                        </ComparisonList>
                    </RestrictionCriteria>
                </BaseContainer>
                <EntryList>
                    <ParameterRefEntry parameterRef="ESP32CAM_millis" />
                    <ParameterRefEntry parameterRef="ESP32CAM_packet_ctr" />
                    <ParameterRefEntry parameterRef="ESP32CAM_free00" />
                    <ParameterRefEntry parameterRef="ESP32CAM_free01" />
                    <ParameterRefEntry parameterRef="ESP32CAM_ftp_fs" />
                    <ParameterRefEntry parameterRef="ESP32CAM_buffer_fs" />
                    <ParameterRefEntry parameterRef="ESP32CAM_opsmode" />
                    <ParameterRefEntry parameterRef="ESP32CAM_error_ctr" />
                    <ParameterRefEntry parameterRef="ESP32CAM_warning_ctr" />
                    <ParameterRefEntry parameterRef="ESP32CAM_tc_exec_ctr" />
                    <ParameterRefEntry parameterRef="ESP32CAM_tc_fail_ctr" />
                    <ParameterRefEntry parameterRef="ESP32CAM_camera_rate" />
                    <ParameterRefEntry parameterRef="ESP32CAM_udp_rate" />
                    <ParameterRefEntry parameterRef="ESP32CAM_yamcs_rate" />
                    <ParameterRefEntry parameterRef="ESP32CAM_serial_in_rate" />
                    <ParameterRefEntry parameterRef="ESP32CAM_serial_out_rate" />
                    <ParameterRefEntry parameterRef="ESP32CAM_fs_rate" />
                    <ParameterRefEntry parameterRef="ESP32CAM_sd_json_rate" />
                    <ParameterRefEntry parameterRef="ESP32CAM_sd_ccsds_rate" />
                    <ParameterRefEntry parameterRef="ESP32CAM_sd_image_rate" />
                    <ParameterRefEntry parameterRef="ESP32CAM_yamcs_buffer" />
                    <ParameterRefEntry parameterRef="ESP32CAM_serial_out_buffer" />
                    <ParameterRefEntry parameterRef="ESP32CAM_mem_free" />
                    <ParameterRefEntry parameterRef="ESP32CAM_fs_free" />
                    <ParameterRefEntry parameterRef="ESP32CAM_sd_free" />
	    
		    <ParameterRefEntry parameterRef="ESP32CAM_time_set" />
                    <ParameterRefEntry parameterRef="ESP32CAM_free_11" />
                    <ParameterRefEntry parameterRef="ESP32CAM_free_12" />
                    <ParameterRefEntry parameterRef="ESP32CAM_wifi_image_enabled" />
                    <ParameterRefEntry parameterRef="ESP32CAM_wifi_yamcs_enabled" />
                    <ParameterRefEntry parameterRef="ESP32CAM_wifi_udp_enabled" />
                    <ParameterRefEntry parameterRef="ESP32CAM_wifi_enabled" />                    
                    <ParameterRefEntry parameterRef="ESP32CAM_camera_enabled" />
       
		    <ParameterRefEntry parameterRef="ESP32CAM_http_enabled" />
                    <ParameterRefEntry parameterRef="ESP32CAM_sd_ccsds_enabled" />
                    <ParameterRefEntry parameterRef="ESP32CAM_sd_json_enabled" />
                    <ParameterRefEntry parameterRef="ESP32CAM_sd_image_enabled" />
                    <ParameterRefEntry parameterRef="ESP32CAM_ota_enabled" />
                    <ParameterRefEntry parameterRef="ESP32CAM_ftp_enabled" />
                    <ParameterRefEntry parameterRef="ESP32CAM_sd_enabled" />
                    <ParameterRefEntry parameterRef="ESP32CAM_fs_enabled" />
		    
		    <ParameterRefEntry parameterRef="ESP32CAM_err_sd_dataloss" />
                    <ParameterRefEntry parameterRef="ESP32CAM_err_fs_dataloss" />
                    <ParameterRefEntry parameterRef="ESP32CAM_err_yamcs_dataloss" />
                    <ParameterRefEntry parameterRef="ESP32CAM_err_serial_dataloss" />
                    <ParameterRefEntry parameterRef="ESP32CAM_warn_wifi_connloss" />
                    <ParameterRefEntry parameterRef="ESP32CAM_warn_serial_connloss" />
                    <ParameterRefEntry parameterRef="ESP32CAM_wifi_connected" />
                    <ParameterRefEntry parameterRef="ESP32CAM_serial_connected" />
		   
		    <ParameterRefEntry parameterRef="ESP32CAM_free_40" />
                    <ParameterRefEntry parameterRef="ESP32CAM_free_41" />
                    <ParameterRefEntry parameterRef="ESP32CAM_http_active" />
                    <ParameterRefEntry parameterRef="ESP32CAM_buffer_active" />
                    <ParameterRefEntry parameterRef="ESP32CAM_ftp_active" />
                    <ParameterRefEntry parameterRef="ESP32CAM_sd_active" />  
                    <ParameterRefEntry parameterRef="ESP32CAM_fs_active" />  
                    <ParameterRefEntry parameterRef="ESP32CAM_camera_active" />
                </EntryList>
            </SequenceContainer>
            <SequenceContainer name="Fli3d tm_camera">
                <BaseContainer containerRef="TelemetryPacket">
                    <RestrictionCriteria>
                        <ComparisonList>
                            <Comparison value="NotPresent" parameterRef="CCSDS_Packet_ID/SecHdrFlag" />
                            <Comparison value="46" parameterRef="CCSDS_Packet_ID/APID" />
                        </ComparisonList>
                    </RestrictionCriteria>
                </BaseContainer>
                <EntryList>
                    <ParameterRefEntry parameterRef="CAMERA_millis" />
                    <ParameterRefEntry parameterRef="CAMERA_packet_ctr" />
                    <ParameterRefEntry parameterRef="CAMERA_free_00" />
                    <ParameterRefEntry parameterRef="CAMERA_auto_res" />
                    <ParameterRefEntry parameterRef="CAMERA_resolution" />
                    <ParameterRefEntry parameterRef="CAMERA_camera_mode" />
                    <ParameterRefEntry parameterRef="CAMERA_filesize" />
                    <ParameterRefEntry parameterRef="CAMERA_wifi_ms" />
                    <ParameterRefEntry parameterRef="CAMERA_sd_ms" />
                    <ParameterRefEntry parameterRef="CAMERA_exposure_ms" />
                    <ParameterRefEntry parameterRef="CAMERA_filename" />
                </EntryList>
            </SequenceContainer>
            <SequenceContainer name="Fli3d tm_pressure">
                <BaseContainer containerRef="TelemetryPacket">
                    <RestrictionCriteria>
                        <ComparisonList>
                            <Comparison value="NotPresent" parameterRef="CCSDS_Packet_ID/SecHdrFlag" />
                            <Comparison value="49" parameterRef="CCSDS_Packet_ID/APID" />
                        </ComparisonList>
                    </RestrictionCriteria>
                </BaseContainer>
                <EntryList>
                    <ParameterRefEntry parameterRef="PRESSURE_millis" />
                    <ParameterRefEntry parameterRef="PRESSURE_packet_ctr" />
                    <ParameterRefEntry parameterRef="PRESSURE_pressure" />
                    <ParameterRefEntry parameterRef="PRESSURE_zero_level_pressure" />
                    <ParameterRefEntry parameterRef="PRESSURE_height" />
                    <ParameterRefEntry parameterRef="PRESSURE_velocity_v" />
                    <ParameterRefEntry parameterRef="PRESSURE_temperature" />
                    <ParameterRefEntry parameterRef="PRESSURE_free_00" />
                    <ParameterRefEntry parameterRef="PRESSURE_free_01" />
                    <ParameterRefEntry parameterRef="PRESSURE_free_02" />
                    <ParameterRefEntry parameterRef="PRESSURE_free_03" />
                    <ParameterRefEntry parameterRef="PRESSURE_free_04" />
                    <ParameterRefEntry parameterRef="PRESSURE_free_05" />
                    <ParameterRefEntry parameterRef="PRESSURE_free_06" />
                    <ParameterRefEntry parameterRef="PRESSURE_height_valid" />
                </EntryList>
            </SequenceContainer>
            <SequenceContainer name="Fli3d tm_motion">
                <BaseContainer containerRef="TelemetryPacket">
                    <RestrictionCriteria>
                        <ComparisonList>
                            <Comparison value="NotPresent" parameterRef="CCSDS_Packet_ID/SecHdrFlag" />
                            <Comparison value="48" parameterRef="CCSDS_Packet_ID/APID" />
                        </ComparisonList>
                    </RestrictionCriteria>
                </BaseContainer>
                <EntryList>
                    <ParameterRefEntry parameterRef="MOTION_millis" />
                    <ParameterRefEntry parameterRef="MOTION_packet_ctr" />
                    <ParameterRefEntry parameterRef="MOTION_accel_x" />
                    <ParameterRefEntry parameterRef="MOTION_accel_y" />
                    <ParameterRefEntry parameterRef="MOTION_accel_z" />
                    <ParameterRefEntry parameterRef="MOTION_gyro_x" />
                    <ParameterRefEntry parameterRef="MOTION_gyro_y" />
                    <ParameterRefEntry parameterRef="MOTION_gyro_z" />
                    <ParameterRefEntry parameterRef="MOTION_tilt" />
                    <ParameterRefEntry parameterRef="MOTION_g" />
                    <ParameterRefEntry parameterRef="MOTION_a" />
                    <ParameterRefEntry parameterRef="MOTION_rpm" />
                    <ParameterRefEntry parameterRef="MOTION_free_00" />
                    <ParameterRefEntry parameterRef="MOTION_free_01" />
                    <ParameterRefEntry parameterRef="MOTION_gyro_valid" />
                    <ParameterRefEntry parameterRef="MOTION_accel_valid" />
                    <ParameterRefEntry parameterRef="MOTION_gyro_range" />
                    <ParameterRefEntry parameterRef="MOTION_accel_range" />
                </EntryList>
            </SequenceContainer>
            <SequenceContainer name="Fli3d tm_gps">
                <BaseContainer containerRef="TelemetryPacket">
                    <RestrictionCriteria>
                        <ComparisonList>
                            <Comparison value="NotPresent" parameterRef="CCSDS_Packet_ID/SecHdrFlag" />
                            <Comparison value="47" parameterRef="CCSDS_Packet_ID/APID" />
                        </ComparisonList>
                    </RestrictionCriteria>
                </BaseContainer>
                <EntryList>
                    <ParameterRefEntry parameterRef="GPS_millis" />
                    <ParameterRefEntry parameterRef="GPS_packet_ctr" />
                    <ParameterRefEntry parameterRef="GPS_satellites" />
                    <ParameterRefEntry parameterRef="GPS_status" />
                    <ParameterRefEntry parameterRef="GPS_hours" />
                    <ParameterRefEntry parameterRef="GPS_minutes" />
                    <ParameterRefEntry parameterRef="GPS_seconds" />
                    <ParameterRefEntry parameterRef="GPS_centiseconds" />
                    <ParameterRefEntry parameterRef="GPS_latitude" />
                    <ParameterRefEntry parameterRef="GPS_longitude" />
                    <ParameterRefEntry parameterRef="GPS_altitude" />
                    <ParameterRefEntry parameterRef="GPS_latitude_zero" />
                    <ParameterRefEntry parameterRef="GPS_longitude_zero" />
                    <ParameterRefEntry parameterRef="GPS_altitude_zero" />
                    <ParameterRefEntry parameterRef="GPS_x" />
                    <ParameterRefEntry parameterRef="GPS_y" />
                    <ParameterRefEntry parameterRef="GPS_z" />
                    <ParameterRefEntry parameterRef="GPS_x_err" />
                    <ParameterRefEntry parameterRef="GPS_y_err" />
                    <ParameterRefEntry parameterRef="GPS_z_err" />
                    <ParameterRefEntry parameterRef="GPS_v_north" />
                    <ParameterRefEntry parameterRef="GPS_v_east" />
                    <ParameterRefEntry parameterRef="GPS_v_down" />
                    <ParameterRefEntry parameterRef="GPS_milli_hdop" />
                    <ParameterRefEntry parameterRef="GPS_milli_vdop" />
                    <ParameterRefEntry parameterRef="GPS_milli_pdop" />
                    <ParameterRefEntry parameterRef="GPS_error_valid" />
                    <ParameterRefEntry parameterRef="GPS_pdop_valid" />
                    <ParameterRefEntry parameterRef="GPS_vdop_valid" />
                    <ParameterRefEntry parameterRef="GPS_hdop_valid" />
                    <ParameterRefEntry parameterRef="GPS_speed_valid" />
                    <ParameterRefEntry parameterRef="GPS_altitude_valid" />
                    <ParameterRefEntry parameterRef="GPS_location_valid" />
                    <ParameterRefEntry parameterRef="GPS_time_valid" />
                    <ParameterRefEntry parameterRef="GPS_free_10" />
                    <ParameterRefEntry parameterRef="GPS_free_11" />
                    <ParameterRefEntry parameterRef="GPS_free_12" />
                    <ParameterRefEntry parameterRef="GPS_free_13" />
                    <ParameterRefEntry parameterRef="GPS_free_14" />
                    <ParameterRefEntry parameterRef="GPS_free_15" />
                    <ParameterRefEntry parameterRef="GPS_free_16" />
                    <ParameterRefEntry parameterRef="GPS_offset_valid" />
                </EntryList>
            </SequenceContainer>
            <SequenceContainer name="Fli3d tm_radio">
                <BaseContainer containerRef="TelemetryPacket">
                    <RestrictionCriteria>
                        <ComparisonList>
                            <Comparison value="NotPresent" parameterRef="CCSDS_Packet_ID/SecHdrFlag" />
                            <Comparison value="50" parameterRef="CCSDS_Packet_ID/APID" />
                        </ComparisonList>
                    </RestrictionCriteria>
                </BaseContainer>
                <EntryList>
                    <ParameterRefEntry parameterRef="RADIO_millis" />
                    <ParameterRefEntry parameterRef="RADIO_packet_ctr" />
                    <ParameterRefEntry parameterRef="RADIO_camera_active" />
                    <ParameterRefEntry parameterRef="RADIO_gps_active" />
                    <ParameterRefEntry parameterRef="RADIO_motion_active" />
                    <ParameterRefEntry parameterRef="RADIO_pressure_active" />
                    <ParameterRefEntry parameterRef="RADIO_state" />
                    <ParameterRefEntry parameterRef="RADIO_opsmode" />
                    <ParameterRefEntry parameterRef="RADIO_error_ctr" />
                    <ParameterRefEntry parameterRef="RADIO_warning_ctr" />
                    <ParameterRefEntry parameterRef="RADIO_pressure_height" />
                    <ParameterRefEntry parameterRef="RADIO_pressure_velocity_v" />
                    <ParameterRefEntry parameterRef="RADIO_temperature" />
                    <ParameterRefEntry parameterRef="RADIO_motion_tilt" />
                    <ParameterRefEntry parameterRef="RADIO_motion_g" />
                    <ParameterRefEntry parameterRef="RADIO_motion_a" />
                    <ParameterRefEntry parameterRef="RADIO_motion_rpm" />
                    <ParameterRefEntry parameterRef="RADIO_esp32cam_wifi_image_enabled" />
                    <ParameterRefEntry parameterRef="RADIO_esp32cam_sd_image_enabled" />
                    <ParameterRefEntry parameterRef="RADIO_esp32cam_buffer_active" />
                    <ParameterRefEntry parameterRef="RADIO_esp32_buffer_active" />
                    <ParameterRefEntry parameterRef="RADIO_gps_satellites" />
                    <ParameterRefEntry parameterRef="RADIO_gps_velocity_v" />
                    <ParameterRefEntry parameterRef="RADIO_gps_velocity" />
                    <ParameterRefEntry parameterRef="RADIO_gps_height" />
                    <ParameterRefEntry parameterRef="RADIO_camera_image_ctr" />
                    <ParameterRefEntry parameterRef="RADIO_separation_sts" />
                    <ParameterRefEntry parameterRef="RADIO_esp32_err_fs_dataloss" />
                    <ParameterRefEntry parameterRef="RADIO_esp32_err_yamcs_dataloss" />
                    <ParameterRefEntry parameterRef="RADIO_esp32_err_serial_dataloss" />
                    <ParameterRefEntry parameterRef="RADIO_esp32_warn_wifi_connloss" />
                    <ParameterRefEntry parameterRef="RADIO_esp32_warn_serial_connloss" />
                    <ParameterRefEntry parameterRef="RADIO_esp32_wifi_connected" />
                    <ParameterRefEntry parameterRef="RADIO_esp32_serial_connected" />
                    <ParameterRefEntry parameterRef="RADIO_esp32cam_err_sd_dataloss" />
                    <ParameterRefEntry parameterRef="RADIO_esp32cam_err_fs_dataloss" />
                    <ParameterRefEntry parameterRef="RADIO_esp32cam_err_yamcs_dataloss" />
                    <ParameterRefEntry parameterRef="RADIO_esp32cam_err_serial_dataloss" />
                    <ParameterRefEntry parameterRef="RADIO_esp32cam_warn_wifi_connloss" />
                    <ParameterRefEntry parameterRef="RADIO_esp32cam_warn_serial_connloss" />
                    <ParameterRefEntry parameterRef="RADIO_esp32cam_wifi_connected" />
                    <ParameterRefEntry parameterRef="RADIO_esp32cam_serial_connected" />
                </EntryList>
            </SequenceContainer>
            <SequenceContainer name="Fli3d timer_esp32">
                <BaseContainer containerRef="TelemetryPacket">
                    <RestrictionCriteria>
                        <ComparisonList>
                            <Comparison value="NotPresent" parameterRef="CCSDS_Packet_ID/SecHdrFlag" />
                            <Comparison value="51" parameterRef="CCSDS_Packet_ID/APID" />
                        </ComparisonList>
                    </RestrictionCriteria>
                </BaseContainer>
                <EntryList>
                    <ParameterRefEntry parameterRef="TIMER_ESP32_millis" />
                    <ParameterRefEntry parameterRef="TIMER_ESP32_packet_ctr" />
                    <ParameterRefEntry parameterRef="TIMER_ESP32_radio_duration" />
                    <ParameterRefEntry parameterRef="TIMER_ESP32_pressure_duration" />
                    <ParameterRefEntry parameterRef="TIMER_ESP32_motion_duration" />
                    <ParameterRefEntry parameterRef="TIMER_ESP32_gps_duration" />
                    <ParameterRefEntry parameterRef="TIMER_ESP32_esp32cam_duration" />
                    <ParameterRefEntry parameterRef="TIMER_ESP32_serial_duration" />
                    <ParameterRefEntry parameterRef="TIMER_ESP32_ota_duration" />
                    <ParameterRefEntry parameterRef="TIMER_ESP32_ftp_duration" />
                    <ParameterRefEntry parameterRef="TIMER_ESP32_wifi_duration" />
                    <ParameterRefEntry parameterRef="TIMER_ESP32_tc_duration" />
                    <ParameterRefEntry parameterRef="TIMER_ESP32_idle_duration" />
                    <ParameterRefEntry parameterRef="TIMER_ESP32_publish_fs_duration" />
                    <ParameterRefEntry parameterRef="TIMER_ESP32_publish_serial_duration" />
                    <ParameterRefEntry parameterRef="TIMER_ESP32_publish_yamcs_duration" />
                    <ParameterRefEntry parameterRef="TIMER_ESP32_publish_udp_duration" />
                </EntryList>
            </SequenceContainer>
            <SequenceContainer name="Fli3d timer_esp32cam">
                <BaseContainer containerRef="TelemetryPacket">
                    <RestrictionCriteria>
                        <ComparisonList>
                            <Comparison value="NotPresent" parameterRef="CCSDS_Packet_ID/SecHdrFlag" />
                            <Comparison value="52" parameterRef="CCSDS_Packet_ID/APID" />
                        </ComparisonList>
                    </RestrictionCriteria>
                </BaseContainer>
                <EntryList>
                    <ParameterRefEntry parameterRef="TIMER_ESP32CAM_millis" />
                    <ParameterRefEntry parameterRef="TIMER_ESP32CAM_packet_ctr" />
                    <ParameterRefEntry parameterRef="TIMER_ESP32CAM_camera_duration" />
                    <ParameterRefEntry parameterRef="TIMER_ESP32CAM_serial_duration" />
                    <ParameterRefEntry parameterRef="TIMER_ESP32CAM_tc_duration" />
                    <ParameterRefEntry parameterRef="TIMER_ESP32CAM_sd_duration" />
                    <ParameterRefEntry parameterRef="TIMER_ESP32CAM_ftp_duration" />
                    <ParameterRefEntry parameterRef="TIMER_ESP32CAM_wifi_duration" />
                    <ParameterRefEntry parameterRef="TIMER_ESP32CAM_idle_duration" />
                    <ParameterRefEntry parameterRef="TIMER_ESP32CAM_publish_sd_duration" />
                    <ParameterRefEntry parameterRef="TIMER_ESP32CAM_publish_fs_duration" />
                    <ParameterRefEntry parameterRef="TIMER_ESP32CAM_publish_serial_duration" />
                    <ParameterRefEntry parameterRef="TIMER_ESP32CAM_publish_yamcs_duration" />
                    <ParameterRefEntry parameterRef="TIMER_ESP32CAM_publish_udp_duration" />
                </EntryList>
            </SequenceContainer>
        </ContainerSet>
    </TelemetryMetaData>

    
    <CommandMetaData>
		    <ArgumentTypeSet>
            <IntegerArgumentType name="CCSDS_APID_t" signed="false">
                <UnitSet/>
                <IntegerDataEncoding sizeInBits="11" />
            </IntegerArgumentType>
            <IntegerArgumentType name="CCSDS_SourceSequenceCount_t" signed="false">
                <UnitSet/>
                <IntegerDataEncoding sizeInBits="14" />
            </IntegerArgumentType>
            <IntegerArgumentType name="CCSDS_PacketLength_t" signed="false">
                <UnitSet>
                    <Unit description="Size">Octets</Unit>
                </UnitSet>
                <IntegerDataEncoding sizeInBits="16" />
            </IntegerArgumentType>   
            <StringArgumentType name="string_t">
                <UnitSet />
                <StringDataEncoding encoding="UTF-8">
                    <SizeInBits>
                         <TerminationChar>00</TerminationChar>
                    </SizeInBits>
                </StringDataEncoding>
            </StringArgumentType>
            <IntegerArgumentType name="uint8_t">
                <UnitSet/>
                <IntegerDataEncoding encoding="unsigned" sizeInBits="8" />
            </IntegerArgumentType>
            <EnumeratedArgumentType name="uint8_system_t">
                <UnitSet/>
                <EnumerationList>
                    <Enumeration value="0" label="this" />
                    <Enumeration value="1" label="other" />
                    <Enumeration value="2" label="both" />
                </EnumerationList>
                <IntegerDataEncoding encoding="unsigned" sizeInBits="8" />
            </EnumeratedArgumentType>
            <EnumeratedArgumentType name="uint8_opsmode_t">
                <UnitSet/>
                <EnumerationList>
                    <Enumeration value="1" label="checkout" />
                    <Enumeration value="2" label="nominal" />
                    <Enumeration value="3" label="done" />
                </EnumerationList>
                <IntegerDataEncoding encoding="unsigned" sizeInBits="8" />
            </EnumeratedArgumentType>
		    </ArgumentTypeSet>
		
		    <MetaCommandSet>
			
            <MetaCommand name="CCSDS_TC" abstract="true">
                <ArgumentList>
                    <Argument name="CCSDS_APID" argumentTypeRef="CCSDS_APID_t"/>
                </ArgumentList>
                <CommandContainer name="CCSDS_TC_container">
                    <EntryList>
                        <FixedValueEntry binaryValue="0" sizeInBits="3"/> <!-- CCSDS_Version: 0 -->
                        <FixedValueEntry binaryValue="1" sizeInBits="1"/> <!-- CCSDS_Type: TC -->
                        <FixedValueEntry binaryValue="0" sizeInBits="1"/> <!-- CCSDS_SecHdrFlag: NotPresent -->
                        <ArgumentRefEntry argumentRef="CCSDS_APID"/>  
                        <FixedValueEntry binaryValue="3" sizeInBits="2"/> <!-- CCSDS_GroupFlags: Standalone -->
                        <FixedValueEntry binaryValue="0000" sizeInBits="14"/> <!-- CCSDS_SourceSequenceCount: to be filled by postprocessor -->
                        <FixedValueEntry binaryValue="0000" sizeInBits="16"/> <!-- CCSDS_PacketLength: to be filled by postprocessor -->
                    </EntryList>
                </CommandContainer>
            </MetaCommand>
                
            <MetaCommand name="reboot" abstract="true">
                <BaseMetaCommand metaCommandRef="CCSDS_TC"/>
                <ArgumentList>
                    <Argument name="system" argumentTypeRef="uint8_system_t"/>
                </ArgumentList>
                <CommandContainer name="reboot">
                    <EntryList>
                        <FixedValueEntry binaryValue="2a" sizeInBits="8"/> <!-- cmdId: 42 -->
                        <ArgumentRefEntry argumentRef="system"/>
                    </EntryList>        
                    <BaseContainer containerRef="CCSDS_TC_container"/>
                </CommandContainer>
            </MetaCommand>
            <MetaCommand name="ESP32_reboot">
                <LongDescription>Reboot Fli3d ESP32, ESP32CAM, or both</LongDescription>
                <BaseMetaCommand metaCommandRef="reboot">
                    <ArgumentAssignmentList>
                        <ArgumentAssignment argumentName="CCSDS_APID" argumentValue="53"/> 
                    </ArgumentAssignmentList>  
                </BaseMetaCommand>
                <CommandContainer name="ESP32_reboot">
                    <BaseContainer containerRef="CCSDS_TC_container"/>
                </CommandContainer>
            </MetaCommand>            
            <MetaCommand name="ESP32CAM_reboot">
                <LongDescription>Reboot Fli3d ESP32, ESP32CAM, or both</LongDescription>
                <BaseMetaCommand metaCommandRef="reboot">
                    <ArgumentAssignmentList>
                        <ArgumentAssignment argumentName="CCSDS_APID" argumentValue="54"/> 
                    </ArgumentAssignmentList>  
                </BaseMetaCommand>
                <CommandContainer name="ESP32CAM_reboot">
                    <BaseContainer containerRef="CCSDS_TC_container"/>
                </CommandContainer>
            </MetaCommand>     
            
            <MetaCommand name="ESP32_set_opsmode">
                <LongDescription>Set operations mode of Fli3d ESP32</LongDescription>
                <BaseMetaCommand metaCommandRef="CCSDS_TC">
                    <ArgumentAssignmentList>
                        <ArgumentAssignment argumentName="CCSDS_APID" argumentValue="53"/> 
                        <ArgumentAssignment argumentName="CCSDS_PacketLength" argumentValue="1"/> 
                    </ArgumentAssignmentList>
                </BaseMetaCommand>
                <ArgumentList>
                    <Argument name="opsmode" argumentTypeRef="uint8_opsmode_t"/>
                </ArgumentList>
                <CommandContainer name="ESP32_set_opsmode">
                    <EntryList>
                        <FixedValueEntry binaryValue="2b" sizeInBits="8"/> <!-- cmdId: 43 -->
                        <ArgumentRefEntry argumentRef="opsmode"/>
                    </EntryList>
                    <BaseContainer containerRef="CCSDS_TC_container"/>
                </CommandContainer>
            </MetaCommand>
            
            <MetaCommand name="ESP32CAM_set_opsmode">
                <LongDescription>Set operations mode of Fli3d ESP32CAM</LongDescription>
                <BaseMetaCommand metaCommandRef="CCSDS_TC">
                    <ArgumentAssignmentList>
                        <ArgumentAssignment argumentName="CCSDS_APID" argumentValue="54"/> 
                        <ArgumentAssignment argumentName="CCSDS_PacketLength" argumentValue="1"/> 
                    </ArgumentAssignmentList>
                </BaseMetaCommand>
                <ArgumentList>
                    <Argument name="opsmode" argumentTypeRef="uint8_opsmode_t"/>
                </ArgumentList>
                <CommandContainer name="ESP32CAM_set_opsmode">
                    <EntryList>
                        <FixedValueEntry binaryValue="2b" sizeInBits="8"/> <!-- cmdId: 43 -->
                        <ArgumentRefEntry argumentRef="opsmode"/>
                    </EntryList>
                    <BaseContainer containerRef="CCSDS_TC_container"/>
                </CommandContainer>
            </MetaCommand>
            
            <MetaCommand name="load_config" abstract="true">
                <BaseMetaCommand metaCommandRef="CCSDS_TC"/>
                <ArgumentList>
                    <Argument name="file" argumentTypeRef="string_t"/>
                </ArgumentList>
                <CommandContainer name="load_config">
                    <EntryList>
                        <FixedValueEntry binaryValue="2c" sizeInBits="8"/> <!-- cmdId: 44 -->
                        <FixedValueEntry binaryValue="00" sizeInBits="8"/> <!-- filler -->
                        <ArgumentRefEntry argumentRef="file"/>
                    </EntryList>
                    <BaseContainer containerRef="CCSDS_TC_container"/>
                </CommandContainer>
            </MetaCommand>
            <MetaCommand name="ESP32_load_config">
                <LongDescription>Load configuration file on Fli3d ESP32</LongDescription>
                <BaseMetaCommand metaCommandRef="load_config">
                    <ArgumentAssignmentList>
                        <ArgumentAssignment argumentName="CCSDS_APID" argumentValue="53"/> 
                    </ArgumentAssignmentList>
                </BaseMetaCommand>
                <CommandContainer name="ESP32_load_config">
                    <BaseContainer containerRef="CCSDS_TC_container"/>
                </CommandContainer>
            </MetaCommand>
            <MetaCommand name="ESP32CAM_load_config">
                <LongDescription>Load configuration file on Fli3d ESP32CAM</LongDescription>
                <BaseMetaCommand metaCommandRef="load_config">
                    <ArgumentAssignmentList>
                        <ArgumentAssignment argumentName="CCSDS_APID" argumentValue="54"/> 
                    </ArgumentAssignmentList>
                </BaseMetaCommand>
                <CommandContainer name="ESP32CAM_load_config">
                    <BaseContainer containerRef="CCSDS_TC_container"/>
                </CommandContainer>
            </MetaCommand>
            
            <MetaCommand name="load_routing" abstract="true">
                <BaseMetaCommand metaCommandRef="CCSDS_TC"/>
                <ArgumentList>
                    <Argument name="file" argumentTypeRef="string_t"/>
                </ArgumentList>
                <CommandContainer name="load_routing">
                    <EntryList>
                        <FixedValueEntry binaryValue="2d" sizeInBits="8"/> <!-- cmdId: 45 -->
                        <FixedValueEntry binaryValue="00" sizeInBits="8"/> <!-- filler -->
                        <ArgumentRefEntry argumentRef="file"/>
                    </EntryList>
                    <BaseContainer containerRef="CCSDS_TC_container"/>
                </CommandContainer>
            </MetaCommand>
            <MetaCommand name="ESP32_load_routing">
                <LongDescription>Load routing table file on Fli3d ESP32</LongDescription>
                <BaseMetaCommand metaCommandRef="load_routing">
                    <ArgumentAssignmentList>
                        <ArgumentAssignment argumentName="CCSDS_APID" argumentValue="53"/> 
                    </ArgumentAssignmentList>
                </BaseMetaCommand>
                <CommandContainer name="ESP32_load_routing">
                    <BaseContainer containerRef="CCSDS_TC_container"/>
                </CommandContainer>
            </MetaCommand>
            <MetaCommand name="ESP32CAM_load_routing">
                <LongDescription>Load routing table file on Fli3d ESP32CAM</LongDescription>
                <BaseMetaCommand metaCommandRef="load_routing">
                    <ArgumentAssignmentList>
                        <ArgumentAssignment argumentName="CCSDS_APID" argumentValue="54"/> 
                    </ArgumentAssignmentList>
                </BaseMetaCommand>
                <CommandContainer name="ESP32CAM_load_routing">
                    <BaseContainer containerRef="CCSDS_TC_container"/>
                </CommandContainer>
             </MetaCommand>
             
            <MetaCommand name="set_parameter" abstract="true">
                <BaseMetaCommand metaCommandRef="CCSDS_TC"/>
                <ArgumentList>
                    <Argument name="parameter" argumentTypeRef="string_t"/>
                    <Argument name="value" argumentTypeRef="string_t"/>
                </ArgumentList>
                <CommandContainer name="set_parameter">
                    <EntryList>
                        <FixedValueEntry binaryValue="2e" sizeInBits="8"/> <!-- cmdId: 46 -->
                        <FixedValueEntry binaryValue="00" sizeInBits="8"/> <!-- filler -->
                        <ArgumentRefEntry argumentRef="parameter"/>
                        <ArgumentRefEntry argumentRef="value"/>
                    </EntryList>
                    <BaseContainer containerRef="CCSDS_TC_container"/>
                </CommandContainer>
            </MetaCommand>
            <MetaCommand name="ESP32_set_parameter">
                <LongDescription>Set parameter value on Fli3d ESP32</LongDescription>
                <BaseMetaCommand metaCommandRef="set_parameter">
                    <ArgumentAssignmentList>
                        <ArgumentAssignment argumentName="CCSDS_APID" argumentValue="53"/> 
                    </ArgumentAssignmentList>
                </BaseMetaCommand>
                <CommandContainer name="ESP32_set_parameter">
                    <BaseContainer containerRef="CCSDS_TC_container"/>
                </CommandContainer>
            </MetaCommand>
            <MetaCommand name="ESP32CAM_set_parameter">
                <LongDescription>Set parameter value on Fli3d ESP32CAM</LongDescription>
                <BaseMetaCommand metaCommandRef="set_parameter">
                    <ArgumentAssignmentList>
                        <ArgumentAssignment argumentName="CCSDS_APID" argumentValue="54"/> 
                    </ArgumentAssignmentList>
                </BaseMetaCommand>
                <CommandContainer name="ESP32CAM_set_parameter">
                    <BaseContainer containerRef="CCSDS_TC_container"/>
                </CommandContainer>
            </MetaCommand>
		
        </MetaCommandSet>
	</CommandMetaData>

</SpaceSystem>
